O preço calculado pelas chamadas a API definem os preços promocionais de ambas as abas. Sobre o preço promocional se chega ao preço do anúncio. O preço do anúncio é aquele valor que descontado 15% obtem-se o preço promocional.

O preço de desconto agressivo é o preço que, descontado o custo do produto, os impostos, taxas de comissão fixa e percentual sobra apenas o valor de margem de contribuição relativo ao valor do anúncio.

O cálculo do % de margem que acompanha os campos de precificação é definido pelo referido campo de valor do anúncio - custo do produto - taxa fixa - o valor monetário da taxa variável - imposto. Esse valor monetário que sobra deve ser dividido pelo valor do campo em questão * 100 para se obter o %.

Já o múltiplo de geração de valor é obtido da mesma forma só que ao se chegar ao valor monetário final pós todos os descontos, se pega esse valor e utiliza-se como dividendo considerando-se o divisor como sendo o custo do produto.

Quero também que seja incluso no sistema mais um campo de detalhamento que deve acompanhar os dois que descrevi acima. Este novo campo trás simplesmente o valor monetário resultado da conta acima que busca deduzir do valor do anúncio todos os descontos e assim obter o valor monetário de quanto dá o lucro + margem de contriuição + TACOS.

Outro ponto importante é que o preço agressivo e preço promocional sempre podem ser editados. Caso, mesmo após o cálculo automático o usuário queira aumentar o preço do anúncio ou reduzí-lo, isso deve ser possível. Após a redução ou acréscimo, o sistema deve recalcular os campos de detalhamento dos valores conforme as regras expostas acima. Isso pode em alguns cenários gerar margens negativas. Isso deve ser possível, faz parte do escopo mostrar isso para o decisor ter clareza das suas ações. Aqui um ponto imporntate, se o valor ficar negativo, mostre os campos de detalhamento com algum destaque ou em vermelho. Já se o múltiplo que indica a quantidade de vendas para conseguir ter o valor de um novo produto for inferior a 30, esse campo do múltiplo deve ter algum destaque ou ficar em vermelho